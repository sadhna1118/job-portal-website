{% extends "base.html" %}

{% block title %}Dashboard - Job Portal{% endblock %}

{% block content %}
<div class="dashboard-container">
    <div class="dashboard-header">
        <div class="container">
            <h1>Welcome, {{ current_user.full_name or current_user.username }}!</h1>
            <p class="text-muted">Manage your job applications and track your progress</p>
        </div>
    </div>

    <div class="container" style="margin-top: 2rem;">
        <div class="dashboard-actions">
            <a href="{{ url_for('jobs') }}" class="btn-primary">
                <i class="icon-search"></i>
                Browse Jobs
            </a>
        </div>

        <h2 class="dashboard-section-title">My Applications</h2>

        {% if applications %}
        <div class="applications-list">
            {% for application in applications %}
            <div class="application-card">
                <div class="application-header">
                    <div>
                        <h3 class="application-title">{{ application.job.title }}</h3>
                        <p class="application-company">{{ application.job.company }}</p>
                    </div>
                    <span class="status-badge status-{{ application.status }}">
                        {{ application.status.replace('_', ' ').title() }}
                    </span>
                </div>
                <div class="application-meta">
                    <span class="meta-item">
                        <i class="icon-map-pin"></i>
                        {{ application.job.location }}
                    </span>
                    <span class="meta-item">
                        Applied {{ application.applied_at.strftime('%B %d, %Y') }}
                    </span>
                </div>
                <a href="{{ url_for('job_detail', job_id=application.job.id) }}" class="btn-secondary btn-sm">
                    View Job
                </a>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <div class="empty-state">
            <i class="icon-briefcase"></i>
            <p>You haven't applied to any jobs yet</p>
            <a href="{{ url_for('jobs') }}" class="btn-primary">Start Applying</a>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}